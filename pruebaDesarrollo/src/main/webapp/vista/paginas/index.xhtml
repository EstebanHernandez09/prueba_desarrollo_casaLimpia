<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
<title>Pagina Principal || TuEmpleo.com</title>
</h:head>
<f:metadata>
		<f:viewAction action="#{ofertasControlador.seleccionarTodo()}" />
		<f:viewAction action="#{profesionControlador.seleccionarTodoProfesion()}" />
		<f:viewAction action="#{agenciaControlador.seleccionarTodoAgencia()}" />
</f:metadata>
 <ui:include src="/vista/plantillas/head.xhtml" />
 <link href="${facesContext.externalContext.requestContextPath}/vista/CSS/style.css" rel="stylesheet" type="text/css"/>
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>
<h:body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed" >
<img src="${facesContext.externalContext.requestContextPath}/vista/imagenes/pos.png" class="img-fluid" alt="..."/>
	<div class="wrapper">
      <!-- Preloader -->
	      <div class="preloader flex-column justify-content-center align-items-center">
	        <img class="animation__wobble" src="${facesContext.externalContext.requestContextPath}/vista/imagenes/logo_empleo.png" alt="Logo_tienda" height="60" width="60"/>
	      </div>
	      <header>
		  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
		    <div class="container-fluid">
		      <a class="navbar-brand" href="#">TuEmpleo.com</a>
		      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
		        <span class="navbar-toggler-icon"></span>
		      </button>
		      <div class="collapse navbar-collapse" id="navbarCollapse">
		        <ul class="navbar-nav me-auto mb-2 mb-md-0">
		          <li class="nav-item active">
		            <a class="nav-link" href="#">Personas</a>
		          </li>
		           <li class="nav-item">
		            <a class="nav-link" href="http://localhost:8280/pruebaDesarrollo/vista/paginas/reporte.jsf">Administrador</a>
		          </li>
		        </ul>
		      </div>
		    </div>
		  </nav>
		</header>
		<div class="container mt-3 col-9">
		
	<div class="col align-self-center">
	
	<div class="row">
			<h:dataTable value="#{ofertasControlador.listaofertas}" var="e" styleClass="col-12">
				<h:column>
					<div class="card card-outline card-primary">
						<div class="card-body">
							<div class="row">
								<div class="row text-center">
						         <div class="col-12">
						         	<h:outputText value="#{e.o_Nombre}" styleClass="h3"></h:outputText>
						         </div>
						         <hr class="my-2"/>
						         <div class="col-12">
						             <p class="login-box-msg text-left">Descripcion: <h:outputText value="#{e.o_Descripcion}"></h:outputText></p>
						         </div>
						          <div class="col-9">
						          <h:inputHidden id="cod_pro" value="#{e.id_Agencia}"></h:inputHidden>
						             <p class="login-box-msg text-left">Fecha de Inicio: <h:outputText value="#{e.o_Fecha_inicio}"></h:outputText> - Fecha de Final: <h:outputText value="#{e.o_Fecha_final}"></h:outputText></p>
						         </div>
						         <div class="col-3">
						         	<button onclick="cambio()" class="btn btn-primary" data-toggle="modal" data-target="#modal_registro_postulacion">Postularme</button>
		    				         </div>
						       </div>
							</div>
						</div>
					</div>
				</h:column>
			</h:dataTable>
	</div>
	<!-- Modal postulacion-->
   <div class="modal fade" id="modal_registro_postulacion" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
     <div class="modal-dialog modal-dialog-centered" role="document">
	 <div class="modal-content card card-outline card-primary">
         <div class="modal-body card-body">
		<div class="row">
		<div class="row text-center">
           <div class="col-11">
               <p class="h2"><span style="opacity:0;">ee</span>Formulario de registro</p>
           </div>
           <div class="col-1">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true" class="fas fa-times"></span>
              </button>
            </div>
           <hr/>
         </div>
			<p class="login-box-msg"></p>
			<h:form>
               <div class="input-group mb-3">
               	<input type="text" class="form-control" id="nom_agre_asp" name="nom_agre_asp" placeholder="Nombre completo"/>
                   <input type="text" class="form-control" id="nom_agre_asp" name="nom_agre_asp" placeholder="Nombre completo"/>
                   <div class="input-group-append">
                     <div class="input-group-text">
                       <span class="fas fa-user"></span>
                     </div>
                   </div>
                 </div>
                 <div class="input-group mb-3">
                   <input type="text" class="form-control" id="num_agre_asp" name="num_agre_asp" placeholder="Numero de documento"/>
                   <div class="input-group-append">
                     <div class="input-group-text">
                       <span class="fas fa-address-card"></span>
                     </div>
                   </div>
                 </div>
                 <div class="input-group mb-3">
                   <input type="text" class="form-control" id="edad_agre_asp" name="edad_agre_asp" placeholder="Edad"/>
                   <div class="input-group-append">
                     <div class="input-group-text">
                       <span class="far fa-id-card"></span>
                     </div>
                   </div>
                 </div>
                 <div class="input-group mb-3">
                   <input type="text" class="form-control" id="gen_agre_asp" name="gen_agre_asp" placeholder="Genero"/>
                   <div class="input-group-append">
                     <div class="input-group-text">
                       <span class="fas fa-male fas fa-female"></span><span class="fas fa-female"></span>
                     </div>
                   </div>
                 </div>
                 <div class="input-group mb-3">
					<h:selectOneMenu value="#{profesionControlador.sel}" styleClass="form-select form-select-sm">
					     <f:selectItems value="#{profesionControlador.listaProfesion}" var="n" itemValue="#{n.id_Profesion}" itemLabel="#{n.p_nombre}"/>
					</h:selectOneMenu>
                   <div class="input-group-append">
                     <div class="input-group-text">
                       <span class="fas fa-user-md"></span>
                     </div>
                   </div>
                 </div>
                 <div class="row text-center">
                   <div class="col-4 mb-0">
                     <button type="button" class="btn btn-danger btn-block" data-dismiss="modal" >Cerrar</button>
                   </div>
                   <!-- /.col -->
                   <div class="col-5 mb-0">
                   
                   <h:commandButton action="#{aspiranteControlador.insertarAspirante()}" value="Registrar Postulacion" styleClass="btn btn-primary btn-block"></h:commandButton>                                    
                   </div>
                   <!-- /.col -->
                 </div>
               </h:form>                
		</div>
		</div>
		</div>
		</div>
		</div>
	</div>
</div>
      </div>
</h:body>
<ui:include src="/vista/plantillas/script.xhtml" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</html>